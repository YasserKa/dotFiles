#!/bin/bash
# problem: deepin-screenshot will overshadow no notification command
# if --save-path command is used

exit
SAVE_TO="$HOME/Pictures/ScreenShots/";

if [ ! -d "$SAVE_TO" ]
then
    echo "$SAVE_TO not found!"
    echo "Creating $SAVE_TO"
    mkdir -p $SAVE_TO;
fi

deepin-screenshot --save-path $SAVE_TO -n
# deepin-screenshot --save-path $SAVE_TO --no-notification
exit
FILE_NAME=`ls $SAVE_TO | grep DeepinScreenshot`

# rename the file
DATE=`date +"%Y-%m-%d_%T"`".png"
OLD_PATH=$SAVE_TO$FILE_NAME
NEW_PATH=$SAVE_TO$DATE
mv $OLD_PATH $NEW_PATH

# save the image using ptpb and copy the url to clipboard using xclip
curl -F c=@- https://ptpb.pw < $NEW_PATH | grep url | awk -F ' ' '{print $2".png"}' | xclip

notify-send "copied to clipboard"
