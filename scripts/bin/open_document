#!/usr/bin/env bash

DOC_NAME="$1"
PAGE_NUM="$2"

PATHS_TO_SEARCH=("${HOME}")

DOC_PATH="$(fd --no-ignore-vcs --fixed-strings "${DOC_NAME}" "${PATHS_TO_SEARCH[*]}" | head -1)"

FILETYPE=$(xdg-mime query filetype "$DOC_PATH")
APPLICATION=$(xdg-mime query default "$FILETYPE")

if [[ "$APPLICATION" == "zathura.desktop" ]]; then
	zathura "$DOC_PATH" -P "$PAGE_NUM"
fi
