#!/bin/env sh

# INPUT file name (e.g. my_notebook)
# It creates a jupyter notebook and pairs it with a python file using jupytext
# To have the sync be instant, a vim extension is used that requires the
# extension to by ".sync.ipynb", so a soft link will be made to get a ".ipynb"
# file


# create file using jupyter ascending
python -m jupyter_ascending.scripts.make_pair --base $1

jupytext --set-formats ipynb,py:percent $1.sync.ipynb

# soft link
ln $1.sync.ipynb $1.ipynb

# open notebook
jupyter notebook $(pwd)/$1.sync.ipynb
